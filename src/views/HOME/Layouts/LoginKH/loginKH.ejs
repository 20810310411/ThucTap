<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="HOME/css/bootstrap.min.css">
    <!-- Site CSS -->
    <link rel="stylesheet" href="HOME/css/style.css">
    <!-- Responsive CSS -->
    <link rel="stylesheet" href="HOME/css/responsive.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="HOME/css/custom.css">
  <title>Login & Registration Form</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700,800&display=swap" rel="stylesheet">
  <script src="link-to-flash-library.js"></script>
    <!-- Ví dụ với thư viện sweetalert2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
  <div class="cont">
    <div class="form sign-in">
      <form method="POST" class="register-form" id="login-form" action="/DangNhapKH">
        <h2>Đăng nhập</h2>
        <label>
          <span>Tên đăng nhập:</span>
          <input required type="taikhoan" name="taikhoan" placeholder="nhập tài khoản...">
        </label>
        <label>
          <span>Mật khẩu</span>
          <input required type="password" name="matkhau"  placeholder="nhập mật khẩu...">
        </label>
        <button class="submit" type="submit">Đăng nhập</button>
      </form>

    </div>

    <div class="sub-cont">
      <div class="img">
        <div class="img-text m-up">
          <h1>Người mới?</h1>
          <p>Đăng ký và khám phá</p>
        </div>
        <div class="img-text m-in">
          <h1>Bạn đã có tài khoản?</h1>
          <p>Hãy đăng nhập</p>
        </div>
        <div class="img-btn">
          <span class="m-up">Đăng ký</span>
          <span class="m-in">Đăng nhập</span>
        </div>
      </div>
      <div class="form sign-up">
        <form method="POST" action="/DangKyKH" class="register-form" id="register-form">
          <h2>Đăng ký</h2>
          <label>
            <span>Họ và tên</span>
            <input required type="text" name="name" id="name" placeholder="nhập họ và tên...">
          </label>
          <label>
            <span>Tên đăng nhập</span>
            <input required type="taikhoan" name="acc" id="acc" placeholder="nhập tên đăng nhập...">
          </label>
          <label>
            <span>Mật khẩu</span>
            <input required type="password" name="pass" id="pass" placeholder="nhập mật khẩu...">
          </label>
          <label>
            <span>Xác nhận mật khẩu</span>
            <input required type="password" placeholder="nhập lại mật khẩu...">
          </label>
          <button type="submit" class="submit" name="signup" id="signup">Đăng ký ngay</button>
        </form>
      </div>
    </div>
  </div>
  <script type="text/javascript" src="script.js"></script>
  <script>
    // phan dang nhap khach hang
    const loginform = document.getElementById('login-form');

    loginform.addEventListener('submit', async function (event) {
      event.preventDefault();

      const formData = new FormData(loginform);
      const response = await fetch('/DangNhapKH', {
        method: 'POST',
        body: formData
      });

      const responseData = await response.json();

      if (responseData.success) {
        // Reset form after 3 seconds
        alert(responseData.message)
        window.location.href = '/';
      } else {
        // Reset form after 3 seconds
        alert(responseData.message)
        loginform.reset(); // Reset form fields 
      }
    });
  </script>
  <script>
    // phan dang ky khach hang
    const loginform1 = document.getElementById('register-form');

    loginform1.addEventListener('submit', async function (event) {
      event.preventDefault();

      const formData = new FormData(loginform1);
      const response = await fetch('/DangKyKH', {
        method: 'POST',
        body: formData
      });

      const responseData = await response.json();

      if (responseData.success) {
        // Reset form after 3 seconds
        alert(responseData.message)
        window.location.href = '/loginKH';
      } else {
        // Reset form after 3 seconds
        alert(responseData.message)
        loginform1.reset(); // Reset form fields 
      }
    });
  </script>
  <script src="HOME/js/jquery-3.2.1.min.js"></script>
  <script src="HOME/js/popper.min.js"></script>
  <script src="HOME/js/bootstrap.min.js"></script>
  <!-- ALL PLUGINS -->
  <script src="HOME/js/jquery.superslides.min.js"></script>
  <script src="HOME/js/bootstrap-select.js"></script>
  <script src="HOME/js/inewsticker.js"></script>
  <script src="HOME/js/bootsnav.js"></script>
  <script src="HOME/js/images-loded.min.js"></script>
  <script src="HOME/js/isotope.min.js"></script>
  <script src="HOME/js/owl.carousel.min.js"></script>
  <script src="HOME/js/baguetteBox.min.js"></script>
  <script src="HOME/js/form-validator.min.js"></script>
  <script src="HOME/js/contact-form-script.js"></script>
  <script src="HOME/js/custom.js"></script>
</body>

</html>